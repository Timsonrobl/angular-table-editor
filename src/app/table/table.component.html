<table class="table table-hover table-bordered table-responsive">
  <thead>
    <tr>
      <th
        *ngFor="let column of table.columns; index as columnIndex"
        scope="col"
        contenteditable="true"
        (blur)="updateColumn($event, columnIndex)"
      >
        {{ column }}
      </th>
      <th class="fit">
        <button
          type="button"
          class="btn btn-sm btn-success"
          title="–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É"
          (click)="addColumn()"
        >
          + –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü
        </button>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="
        let row of table.data;
        index as rowIndex;
        first as isFirstRow;
        last as isLastRow
      "
    >
      <td
        *ngFor="let cell of row; index as columnIndex; trackBy: trackCell"
        contenteditable="true"
        (blur)="updateCell($event, rowIndex, columnIndex)"
      >
        {{ cell }}
      </td>
      <td class="fit">
        <button
          type="button"
          class="btn btn-sm btn-primary"
          title="–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö"
          [disabled]="isFirstRow"
          (click)="swapRows(rowIndex, rowIndex - 1)"
        >
          ü†ï
        </button>
        <button
          type="button"
          class="btn btn-sm btn-primary mx-1"
          title="–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤–Ω–∏–∑"
          [disabled]="isLastRow"
          (click)="swapRows(rowIndex, rowIndex + 1)"
        >
          ü†ó
        </button>
        <button
          type="button"
          class="btn btn-sm btn-danger"
          title="–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É"
          (click)="deleteRow(rowIndex)"
        >
          X
        </button>
      </td>
    </tr>
    <tr>
      <td [attr.colspan]="table.columns.length + 1">
        <button
          type="button"
          class="btn btn-sm btn-success"
          title="–£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É"
          (click)="addRow()"
        >
          + –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É
        </button>
      </td>
    </tr>
  </tbody>
</table>
<button
  type="button"
  class="btn btn-primary m-3"
  (click)="onExportClick('json')"
>
  –í—ã–≥—Ä—É–∑–∏—Ç—å –≤ JSON
</button>
<button
  type="button"
  class="btn btn-primary m-3"
  (click)="onExportClick('csv')"
>
  –í—ã–≥—Ä—É–∑–∏—Ç—å –≤ CSV
</button>
